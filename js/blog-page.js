let searchBtn=document.querySelector(".blog-search button"),searchInput=document.querySelector(".blog-search .blog-search-inp"),searchResultBox=document.querySelector(".search-result"),filter=(searchBtn.addEventListener("click",e=>{e.preventDefault(),""!==searchInput.value?handleBlogSearch():searchResultBox.innerHTML=""}),searchInput.addEventListener("input",()=>{""!==searchInput.value?handleBlogSearch():searchResultBox.innerHTML=""}),document.querySelector(".filter")),bulletsHolder=document.querySelector(".bullets"),bullets=document.querySelectorAll(".bullets li button"),postsHolder=document.querySelector(".posts-holder"),postsCategory="all";function handleBlogSearch(){fetch("json/posts.json").then(e=>e.json()).then(t=>{if(0<t.length){searchResultBox.innerHTML="";var n,l=searchInput.value.toLowerCase(),o=[];for(let e=0;e<t.length&&(n=t[e],4!==o.length);e++)for(let e=0;e<n.keywords.length;e++)if(n.keywords[e].toLowerCase().includes(l)){o.push(n);break}o.forEach(e=>{var t=document.createElement("li"),n=document.createElement("a");n.className="d-block ps-3 py-3",n.href=e.postLink,n.appendChild(document.createTextNode(e.title)),t.appendChild(n),searchResultBox.appendChild(t)})}}).catch(()=>{let t=document.createElement("div");t.className="blog-search-error",t.innerHTML="Somthing went wrong! check out the network and reload the page",searchResultBox.innerHTML="",searchResultBox.appendChild(t),t&&document.addEventListener("click",e=>{e.target!==searchResultBox&&e.target!==t&&e.target!==searchBtn&&t.remove()})})}function getBlogPosts(o){fetch("json/posts.json").then(e=>e.json()).then(t=>{var n=[];for(let e=0;e<t.length;e++){var l=t[e].category.toLowerCase();("all"===o||l===o)&&n.push(t[e])}return n}).then(t=>{if(postsHolder.innerHTML="",0<t.length)for(let e=0;e<t.length;e++){var n=document.createElement("div"),l=document.createElement("a"),o=document.createElement("img"),a=document.createElement("span"),s=document.createElement("h3");n.className="col-md-6 col-lg-4",l.className="post-box d-block mx-auto mx-md-0 p-2",o.className="w-100",a.className="post-category d-block mt-3 mb-1 ps-1 text-uppercase",s.className="post-title fs-5 ps-1 mb-0",l.href=t[e].postLink,o.src=t[e].image,o.alt=t[e].title,a.innerHTML=t[e].category,s.innerHTML=t[e].title,l.appendChild(o),l.appendChild(a),l.appendChild(s),n.appendChild(l),postsHolder.appendChild(n)}else{var e=document.createElement("div"),r=document.createElement("p"),c=document.createElement("button");e.className="no-posts-default text-center",r.className="fs-5",c.className="border-0 bg-transparent",r.innerHTML="No articles available in this category now, more articles are coming soon!",c.innerHTML="Subscribe Down Below in Our Newsletter to Get All Latest Articles",c.onclick=function(){window.scrollTo({top:document.querySelector(".newsletter").offsetTop,behavior:"smooth"}),document.querySelector(".newsletter form input").focus()},e.appendChild(r),e.appendChild(c),postsHolder.appendChild(e)}}).catch(()=>setErrorPost(postsHolder))}function removeClass(e,t){e.classList.remove(String(t))}function setErrorPost(e){e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.minHeight="230px",e.innerHTML="";var t=document.createElement("div"),n=(t.className="error-post",document.createElement("div")),l=document.createElement("i"),o=document.createElement("h4"),l=(n.className="error-info",l.className="fa-solid fa-triangle-exclamation fa-4x error-icon",o.innerHTML="Something went wrong!",n.appendChild(l),n.appendChild(o),document.createElement("div")),o=document.createElement("p"),a=document.createElement("button");l.className="reload-page",o.innerHTML="Check out the network and reload the page :",a.className="main-btn",a.innerHTML="Reload",a.onclick=function(){window.location.reload()},l.appendChild(o),l.appendChild(a),t.appendChild(n),t.appendChild(l),e.appendChild(t)}getBlogPosts(postsCategory),bullets.forEach(e=>{e.addEventListener("click",e=>{bullets.forEach(e=>{removeClass(e,"active"),removeClass(e.parentElement,"active"),bulletsHolder.classList.contains("show")&&removeClass(bulletsHolder,"show"),filter.classList.contains("active")&&removeClass(filter,"active")}),e.target.classList.add("active"),e.target.parentElement.classList.add("active"),getBlogPosts(postsCategory=e.target.dataset.category.toLowerCase())})}),filter.onclick=function(){this.classList.toggle("active"),bulletsHolder.classList.toggle("show")};