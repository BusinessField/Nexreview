let searchInput=document.querySelector(".blog-search .blog-search-inp"),searchResultBox=document.querySelector(".search-result"),filter=(searchInput.addEventListener("input",()=>{""!==searchInput.value?handleBlogSearch():searchResultBox.innerHTML=""}),document.querySelector(".filter")),bulletsHolder=document.querySelector(".bullets"),bullets=document.querySelectorAll(".bullets li button"),postsHolder=document.querySelector(".posts-holder"),postsCategory="all";function handleBlogSearch(){fetch("json/posts.json").then(e=>e.json()).then(t=>{if(0<t.length){searchResultBox.innerHTML="";var l,o=searchInput.value.toLowerCase(),n=[];for(let e=0;e<t.length&&(l=t[e],4!==n.length);e++)for(let e=0;e<l.keywords.length;e++)if(l.keywords[e].toLowerCase().includes(o)){n.push(l);break}n.forEach(e=>{var t=document.createElement("li"),l=document.createElement("a");l.className="d-block ps-3 py-3",l.href=e.postLink,l.appendChild(document.createTextNode(e.title)),t.appendChild(l),searchResultBox.appendChild(t)})}})}function getBlogPosts(n){fetch("json/posts.json").then(e=>e.json()).then(t=>{var l=[];for(let e=0;e<t.length;e++){var o=t[e].category.toLowerCase();("all"===n||o===n)&&l.push(t[e])}return l}).then(t=>{if(postsHolder.innerHTML="",0<t.length)for(let e=0;e<t.length;e++){var l=document.createElement("div"),o=document.createElement("a"),n=document.createElement("img"),s=document.createElement("span"),a=document.createElement("h3");l.className="col-md-6 col-lg-4",o.className="post-box d-block mx-auto mx-md-0 p-2",n.className="w-100",s.className="post-category d-block mt-3 mb-1 ps-1 text-uppercase",a.className="post-title fs-5 ps-1 mb-0",o.href=t[e].postLink,n.src=t[e].image,n.alt=t[e].title,s.innerHTML=t[e].category,a.innerHTML=t[e].title,o.appendChild(n),o.appendChild(s),o.appendChild(a),l.appendChild(o),postsHolder.appendChild(l)}else{var e=document.createElement("div"),r=document.createElement("p"),c=document.createElement("button");e.className="no-posts-default text-center",r.className="fs-5",c.className="border-0 bg-transparent",r.innerHTML="No articles available in this category now, more articles are coming soon!",c.innerHTML="Subscribe Down Below in Our Newsletter to Get All Latest Articles",c.onclick=function(){window.scrollTo({top:document.querySelector(".newsletter").offsetTop,behavior:"smooth"}),document.querySelector(".newsletter form input").focus()},e.appendChild(r),e.appendChild(c),postsHolder.appendChild(e)}}).catch(()=>setErrorPost(postsHolder))}function removeClass(e,t){e.classList.remove(String(t))}function setErrorPost(e){e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.minHeight="230px",e.innerHTML="";var t=document.createElement("div"),l=(t.className="error-post",document.createElement("div")),o=document.createElement("i"),n=document.createElement("h4"),o=(l.className="error-info",o.className="fa-solid fa-triangle-exclamation fa-4x error-icon",n.innerHTML="Something went wrong!",l.appendChild(o),l.appendChild(n),document.createElement("div")),n=document.createElement("p"),s=document.createElement("button");o.className="reload-page",n.innerHTML="Check out the network and reload the page :",s.className="main-btn",s.innerHTML="Reload",s.onclick=function(){window.location.reload()},o.appendChild(n),o.appendChild(s),t.appendChild(l),t.appendChild(o),e.appendChild(t)}getBlogPosts(postsCategory),bullets.forEach(e=>{e.addEventListener("click",e=>{bullets.forEach(e=>{removeClass(e,"active"),removeClass(e.parentElement,"active"),bulletsHolder.classList.contains("show")&&removeClass(bulletsHolder,"show"),filter.classList.contains("active")&&removeClass(filter,"active")}),e.target.classList.add("active"),e.target.parentElement.classList.add("active"),getBlogPosts(postsCategory=e.target.dataset.category.toLowerCase())})}),filter.onclick=function(){this.classList.toggle("active"),bulletsHolder.classList.toggle("show")};