let pageTableHolder=document.querySelector(".page-table-holder"),showTableBtn=document.querySelector(".show-table-btn"),pageTable=document.querySelector(".page-table"),tableLinksHolder=document.querySelector(".page-table .table-links"),postTitles=document.querySelectorAll(".post-content .post-paragraph .paragraph-title"),pagePostTitle=(postTitles.forEach(e=>{var t=document.createElement("a");t.className="title-link",t.innerHTML=e.innerHTML.slice(0,e.innerHTML.length-1),t.addEventListener("click",()=>{window.scrollTo({top:e.offsetTop-50,behavior:"smooth"})}),tableLinksHolder.appendChild(t)}),window.addEventListener("scroll",()=>{this.scrollY>=document.querySelector(".post-content").offsetTop-24&&this.scrollY<=document.querySelector(".related-posts").offsetTop?(pageTableHolder.style.height=pageTable.clientHeight+"px",pageTable.classList.add("side-table"),showTableBtn.classList.add("show-btn"),showTableBtn.addEventListener("click",e=>{e.stopPropagation(),pageTable.classList.add("show-table"),showTableBtn.classList.remove("show-btn")}),document.querySelector(".close-table-btn").addEventListener("click",()=>{pageTable.classList.remove("show-table"),showTableBtn.classList.add("show-btn")})):(pageTable.classList.remove("show-table"),setTimeout(()=>pageTable.classList.remove("side-table"),300),showTableBtn.classList.remove("show-btn"),pageTableHolder.hasAttribute("style")&&setTimeout(()=>pageTableHolder.removeAttribute("style"),1e3))}),document.querySelector(".landing h1").innerHTML.toLowerCase()),relatedPostsHolder=document.querySelector(".related-posts .row");function getRelatedPosts(){fetch("json/posts.json").then(e=>e.json()).then(t=>{var l=[];let a=[];for(let e=0;e<t.length&&6!==l.length;e++){var o=t[e];if(o.title.toLowerCase()===pagePostTitle)a=[...o.keywords];else for(let t=0;t<a.length;t++)for(let e=0;e<o.keywords.length;e++)a[t].toLowerCase()===o.keywords[e]&&l.push(o)}return l}).then(t=>{if(0<t.length)for(let e=0;e<t.length;e++){var l=document.createElement("div"),a=document.createElement("a"),o=document.createElement("img"),s=document.createElement("span"),n=document.createElement("h3");l.className="col-md-6 col-lg-4",a.className="post-box d-block mx-auto mx-md-0 p-2",o.className="w-100",s.className="post-category d-block mt-3 mb-1 ps-1 text-uppercase",n.className="post-title fs-5 ps-1 mb-0",a.href=t[e].postLink,o.src=t[e].image,o.alt=t[e].title,s.innerHTML=t[e].category,n.innerHTML=t[e].title,a.appendChild(o),a.appendChild(s),a.appendChild(n),l.appendChild(a),relatedPostsHolder.appendChild(l)}else fetch("json/home-page-posts.json").then(e=>e.json()).then(t=>{var l=[];for(let e=0;e<t.length&&6!==l.length;e++)t[e].title.toLowerCase()!==pagePostTitle&&l.push(t[e]);return console.log(t),console.log(l),l}).then(t=>{for(let e=0;e<t.length;e++){var l=document.createElement("div"),a=document.createElement("a"),o=document.createElement("img"),s=document.createElement("span"),n=document.createElement("h3");l.className="col-md-6 col-lg-4",a.className="post-box d-block mx-auto mx-md-0 p-2",o.className="w-100",s.className="post-category d-block mt-3 mb-1 ps-1 text-uppercase",n.className="post-title fs-5 ps-1 mb-0",a.href=t[e].postLink,o.src=t[e].image,o.alt=t[e].title,s.innerHTML=t[e].category,n.innerHTML=t[e].title,a.appendChild(o),a.appendChild(s),a.appendChild(n),l.appendChild(a),relatedPostsHolder.appendChild(l)}}).catch(()=>setErrorPost(relatedPostsHolder))}).catch(()=>setErrorPost(relatedPostsHolder))}function setErrorPost(e){e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.minHeight="230px",e.innerHTML="";var t=document.createElement("div"),l=(t.className="error-post",document.createElement("div")),a=document.createElement("i"),o=document.createElement("h4"),a=(l.className="error-info",a.className="fa-solid fa-triangle-exclamation fa-4x error-icon",o.innerHTML="Something went wrong!",l.appendChild(a),l.appendChild(o),document.createElement("div")),o=document.createElement("p"),s=document.createElement("button");a.className="reload-page",o.innerHTML="Check out the network and reload the page :",s.className="main-btn",s.innerHTML="Reload",s.onclick=function(){window.location.reload()},a.appendChild(o),a.appendChild(s),t.appendChild(l),t.appendChild(a),e.appendChild(t)}getRelatedPosts();